{
 "accept_payment": 0,
 "allow_comments": 0,
 "allow_delete": 0,
 "allow_edit": 0,
 "allow_incomplete": 0,
 "allow_multiple": 0,
 "allow_print": 0,
 "amount": 0.0,
 "amount_based_on_field": 0,
 "button_label": "Save",
 "client_script": "frappe.web_form.after_load = () => {\n\tget_contact_name();\n\tget_total_objects();\n}\n\n$(document).ready(function(){\n\tfrappe.web_form.after_load();\n});\n\nfunction get_contact_name() {\n    var myurl = '/api/resource/Contact?filters=[[\"user\",\"=\",\"' + frappe.session.user + '\"]]';\n\t$.ajax({\n\t\ttype: 'GET', \n\t\turl: myurl,\n\t\tsuccess: function(result) {\n\t\t\tvar options = [];\n\t\t\tfor (var i = 0; i < result.data.length; i++) {\n\t\t\t\toptions.push({\n\t\t\t\t\t'label': result.data[i].name,\n\t\t\t\t\t'value': result.data[i].name\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tvar field = frappe.web_form.get_field(\"contact\");\n\t\t\tfield._data = options;\n\t\t\tfield.refresh();\n\t\t\t$('[data-fieldname=\"contact\"]').val(options[0].value);\n\t\t}\n\t});\n};\n\nfunction get_total_objects() {\n    var myurl = '/api/resource/Gesamtobjekt';\n\t$.ajax({\n\t\ttype: 'GET', \n\t\turl: myurl,\n\t\tsuccess: function(result) {\n\t\t\tvar options = [];\n\t\t\tfor (var i = 0; i < result.data.length; i++) {\n\t\t\t\toptions.push({\n\t\t\t\t\t'label': result.data[i].name,\n\t\t\t\t\t'value': result.data[i].name\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tvar field = frappe.web_form.get_field(\"total_object\");\n\t\t\tfield._data = options;\n\t\t\tfield.refresh();\n\t\t}\n\t});\n};\n\n\nfrappe.web_form.on('total_object', (field, value) => {\n    if (value) {\n       filterMietobjekt(value);\n    }\n});\n\nfunction filterMietobjekt(object_name) {\n    var myurl = '/api/resource/Mietobjekt?filters=[[\"total_object\",\"=\",\"' + object_name + '\"]]';\n\t$.ajax({\n\t\ttype: 'GET', \n\t\turl: myurl,\n\t\tsuccess: function(result) {\n\t\t\tvar options = [];\n\t\t\tfor (var i = 0; i < result.data.length; i++) {\n\t\t\t\toptions.push({\n\t\t\t\t\t'label': result.data[i].name,\n\t\t\t\t\t'value': result.data[i].name\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar field = frappe.web_form.get_field(\"object_name\");\n\t\t\tfield._data = options;\n\t\t\tfield.refresh();\n\t\t}\n\t});\n};",
 "creation": "2021-08-12 09:34:51.852986",
 "currency": "CHF",
 "doc_type": "Anmeldung",
 "docstatus": 0,
 "doctype": "Web Form",
 "idx": 0,
 "introduction_text": "<div>Vielen Dank f\u00fcr Ihr Interesse an unseren R\u00e4umlichkeiten.</div><div>Bitte beachten Sie, dass zu einer vollst\u00e4ndigen Anmeldung auch <strong>das Ausf\u00fcllen des Kontaktformulars</strong> geh\u00f6rt, damit wir alle notwendigen Angaben von Ihnen erhalten. Klicken Sie dazu am linken Bildschirmrand 'Kontaktangaben'.</div><div><br></div><div>Im Projekt \u00abdazwischen\u00bb von SOLLBRUCHSTELLE vermieten wir nach Vereinbarung <strong>bis 30.06.2022</strong> R\u00e4umlichkeiten sowie Aussenparkpl\u00e4tze und Einstellpl\u00e4tze an der MATTENHOFSTRASSE 5 und an der BELPSTRASSE 53 in 3007 Bern.</div><div><br></div><div><strong>Schl\u00fcssel / Badges</strong></div><div><br></div><div>Generell sind folgende Schl\u00fcssel in den Mietpreisen eingerechnet: 1 Schl\u00fcssel f\u00fcr den Hauptzugang / 2 Schl\u00fcssel f\u00fcr das Mietobjekt Zus\u00e4tzliche Kosten f\u00fcr eine Nachbestellung und/oder einen Verlust = CHF 55.00 / Schl\u00fcssel Keine R\u00fcckverg\u00fctung bei R\u00fcckgabe.</div>",
 "is_standard": 1,
 "login_required": 1,
 "max_attachment_size": 0,
 "modified": "2021-08-13 15:25:32.538330",
 "modified_by": "Administrator",
 "module": "Sollbruchstelle",
 "name": "anmeldung",
 "owner": "nicole.gret@libracore.com",
 "payment_button_label": "Buy Now",
 "published": 1,
 "route": "anmeldung",
 "route_to_success_link": 0,
 "show_attachments": 0,
 "show_in_grid": 0,
 "show_sidebar": 1,
 "sidebar_items": [],
 "success_message": "Vielen Dank f\u00fcr Ihre Anmeldung.",
 "success_url": "/anmeldung",
 "title": "Anmeldung",
 "web_form_fields": [
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "contact",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Kontakt",
   "max_length": 0,
   "max_value": 0,
   "options": "Contact",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "start_date",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "Mietbeginn",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "end_date",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "Mietende (siehe 'bis' Datum im Text oben)",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "room_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "R\u00e4umlichkeiten",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "total_object",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Gesamtobjekt/Liegenschaft",
   "max_length": 0,
   "max_value": 0,
   "options": "Gesamtobjekt",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "object_name",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Mietobjekt/Raum",
   "max_length": 0,
   "max_value": 0,
   "options": "Mietobjekt",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "floor",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Gew\u00fcnschte Etage",
   "max_length": 0,
   "max_value": 0,
   "options": "Stockwerk",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "column_break_8",
   "fieldtype": "Column Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "room",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Gew\u00fcnschte Raum-Nr.",
   "max_length": 0,
   "max_value": 0,
   "options": "Raum",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "usage_type",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Nutzungsart",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "nr_tenants",
   "fieldtype": "Int",
   "hidden": 0,
   "label": "Anzahl Personen",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "parking_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Parkpl\u00e4tze",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "0",
   "fieldname": "aussenparkplatz_mattenhofstrasse",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "Aussenparkplatz Mattenhofstrasse",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "0",
   "fieldname": "garage",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "Tiefgarageneinstellplatz Belpstrasse 53",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "key_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Schl\u00fcssel/Badges",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "key_1",
   "fieldtype": "Int",
   "hidden": 0,
   "label": "Haupteingang Mattenhofstrasse 5 | 3007 Bern",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "key_2",
   "fieldtype": "Int",
   "hidden": 0,
   "label": "Haupteingang Belpstrasse 53 | 3007 Bern",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "key_3",
   "fieldtype": "Int",
   "hidden": 0,
   "label": "Schl\u00fcssel f\u00fcr den gemieteten Raum",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "cleaning_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Reinigung",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "0",
   "fieldname": "cleaning_check",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "Gerne lasse ich die R\u00e4umlichkeiten w\u00e4hrend meiner Mietdauer \u00fcber die Firma Hasuev Reinigung vornehmen und w\u00fcnsche eine unverbindliche Offert",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "naming_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Beschriftungen",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "0",
   "fieldname": "aussenbeschriftung",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "Aussenbeschriftung gew\u00fcnscht",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "beschriftung_name",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Beschriftungstext (Name / Vorname und oder Firma)",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "beschriftung_tel",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Tel. Nr. (falls erw\u00fcnscht)",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "beschriftung_raum",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Raum-Nr.",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "column_break_27",
   "fieldtype": "Column Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "0",
   "fieldname": "link_yes",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "Gerne w\u00fcnsche ich eine Verlinkung auf der Website die-sollbruchstelle.org",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "link_company",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Name / Firma",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "link_url",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Link auf folgende Website",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "internet_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Internet",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "0",
   "fieldname": "no_internet",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "Ich ben\u00f6tige kein Internet",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "0",
   "fieldname": "hotspot",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "Ich arbeite \u00fcber meinen eigenen Hotspot",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "0",
   "fieldname": "thenet",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "Aufschaltung eines Internetzugangs \u00fcber die Firma TheNet. Offerte erw\u00fcnscht.",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  }
 ]
}